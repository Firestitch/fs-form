!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core"),require("@angular/common"),require("rxjs/Subject"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/map"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@firestitch/form",["@angular/core","@angular/common","rxjs/Subject","rxjs/add/operator/filter","rxjs/add/operator/map","@angular/forms"],t):"object"==typeof exports?exports["@firestitch/form"]=t(require("@angular/core"),require("@angular/common"),require("rxjs/Subject"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/map"),require("@angular/forms")):e["@firestitch/form"]=t(e["@angular/core"],e["@angular/common"],e["rxjs/Subject"],e["rxjs/add/operator/filter"],e["rxjs/add/operator/map"],e["@angular/forms"])}("undefined"!=typeof self?self:this,function(e,t,r,o,n,i){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./index.ts")}({"../node_modules/@firestitch/common/package/index.js":function(e,t,r){!function(t,o){e.exports=o(r("@angular/core"),r("@angular/common"))}("undefined"!=typeof self&&self,function(e,t){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./index.ts")}({"./fs-common.module.ts":function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});var n=r("@angular/core"),i=r("@angular/common"),s=r("./services/fsarray.service.ts"),a=r("./services/fsmath.service.ts"),c=r("./services/fsutil.service.ts"),f=r("./services/fsvaildate.service.ts"),u=r("./services/fsutil.pipe.ts"),l=function(){function e(){}return t=e,e.forRoot=function(){return{ngModule:t,providers:[s.FsArray,a.FsMath,c.FsUtil,f.FsValidate]}},e=t=o([n.NgModule({imports:[i.CommonModule],exports:[u.FsUtilGuidPipe,u.FsUtilStringifyPipe],entryComponents:[],declarations:[u.FsUtilGuidPipe,u.FsUtilStringifyPipe],providers:[s.FsArray,a.FsMath,c.FsUtil,f.FsValidate]})],e);var t}();t.FsCommonModule=l},"./index.ts":function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),o(r("./fs-common.module.ts")),o(r("./services/fsarray.service.ts")),o(r("./services/fsmath.service.ts")),o(r("./services/fsutil.pipe.ts")),o(r("./services/fsutil.service.ts")),o(r("./services/fsvaildate.service.ts"))},"./services/fsarray.service.ts":function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});var n=r("@angular/core"),i=function(){function e(){}return e.prototype.nameValue=function(e,t,r){var o=[];if(t||r){var n="function"==typeof t?t:function(e){return e[t]},i="function"==typeof r?r:function(e){return e[r]};e.forEach(function(e){o.push({name:n(e),value:i(e)})})}else e.forEach(function(e,t){o.push({name:e,value:t})});return o},e.prototype.remove=function(e,t){var r=this.indexOf(e,t);return r>=0?e.splice(r,1):r},e.prototype.indexOf=function(e,t){var r=this;if("function"!=typeof t){var o=t;t=function(e){return r.compare(o,e)}}for(var n=0,i=e.length;n<i;n++)if(t(e[n]))return n;return-1},e.prototype.compare=function(e,t){var r=!0;for(var o in e)r=r&&t[o]==e[o];return r},e.prototype.filter=function(e,t){var r=this;if("function"!=typeof t){var o=t;t=function(e){return r.compare(o,e)}}var n=Array.isArray(e),i=n?[]:{};return n?e.forEach(function(e,r){t(e)&&i.push(e)}):Object.keys(e).forEach(function(r){t(e[r])&&(i[r]=e[r])}),i},e.prototype.index=function(e,t){var r={};return e.forEach(function(e,o){r[e[t]]=e}),r},e.prototype.sort=function(e,t,r){if(void 0===r&&(r=!1),"function"!=typeof t){var o=t;t=function(e,t){if(r){if(e[o]<t[o])return 1;if(e[o]>t[o])return-1}else{if(e[o]>t[o])return 1;if(e[o]<t[o])return-1}return 0}}return e.sort(t),e},e.prototype.rsort=function(e,t){return this.sort(e,t,!0)},e.prototype.list=function(e,t,r){void 0===r&&(r=null);var o=r?{}:[];return e.forEach(function(e,n){r?o[e[r]]=e[t]:o.push(e[t])}),o},e.prototype.applyDepth=function(e,t,r,o){void 0===r&&(r="id"),void 0===o&&(o="depth");var n={};return e.forEach(function(e){e[t]||(e[o]=0),n[e[r]]=e}),Object.keys(n).forEach(function(e){Object.keys(n).forEach(function(e){n[e];n[e][o]||n[e][t]&&(n[e][o]=n[n[e][t]][o]+1)})}),n},e.prototype.inArray=function(e,t){Array.isArray(e)||(e=[e]);for(var r=0,o=e.length;r<o;r++)if(t.indexOf(e[r])>=0)return!0;return!1},e.prototype.keyExists=function(e,t){return e.hasOwnProperty(t)},e.prototype.length=function(e){return e.length},e.prototype.ksort=function(e){Object.keys(e).sort().forEach(function(t){var r=e[t];delete e[t],e[t]=r})},e=o([n.Injectable()],e)}();t.FsArray=i},"./services/fsmath.service.ts":function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});var n=r("@angular/core"),i=function(){function e(){}return e.prototype.round=function(e,t){t=t||0;var r=Math.pow(10,t),o=e*r;return Math.round(o)/r},e=o([n.Injectable()],e)}();t.FsMath=i},"./services/fsutil.pipe.ts":function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("@angular/core"),s=r("./services/fsutil.service.ts"),a=function(){function e(e){this.FsUtil=e}return e.prototype.transform=function(e){return this.FsUtil.stringify(e)},e=o([i.Pipe({name:"fsUtilStringify"}),n("design:paramtypes",[s.FsUtil])],e)}();t.FsUtilStringifyPipe=a;var c=function(){function e(e){this.FsUtil=e}return e.prototype.transform=function(){return this.FsUtil.guid()},e=o([i.Pipe({name:"fsUtilGuid"}),n("design:paramtypes",[s.FsUtil])],e)}();t.FsUtilGuidPipe=c},"./services/fsutil.service.ts":function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});var n=r("@angular/core");t.KEY_CANCEL=3,t.KEY_HELP=6,t.KEY_BACKSPACE=8,t.KEY_TAB=9,t.KEY_CLEAR=12,t.KEY_RETURN=13,t.KEY_ENTER=14,t.KEY_SHIFT=16,t.KEY_CONTROL=17,t.KEY_ALT=18,t.KEY_PAUSE=19,t.KEY_CAPS_LOCK=20,t.KEY_ESCAPE=27,t.KEY_SPACE=32,t.KEY_PAGE_UP=33,t.KEY_PAGE_DOWN=34,t.KEY_END=35,t.KEY_HOME=36,t.KEY_LEFT=37,t.KEY_UP=38,t.KEY_RIGHT=39,t.KEY_DOWN=40,t.KEY_PRINTSCREEN=44,t.KEY_INSERT=45,t.KEY_DELETE=46,t.KEY_0=48,t.KEY_1=49,t.KEY_2=50,t.KEY_3=51,t.KEY_4=52,t.KEY_5=53,t.KEY_6=54,t.KEY_7=55,t.KEY_8=56,t.KEY_9=57,t.KEY_SEMICOLON=59,t.KEY_EQUALS=61;var i=function(){function e(){this.intervals={}}return e.prototype.guid=function(e){return e=e||"xxxxxx",e.replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},e.prototype.uuid=function(){return this.guid("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")},e.prototype.resolve=function(e,t){void 0===t&&(t=[]);var r=t;return new Promise(function(t){e.then(function(e){Object.keys(e).forEach(function(t){return r[t]=e[t]}),t(r)})})},e.prototype.int=function(e){return e=parseInt(e),isNaN(e)&&(e=0),e},e.prototype.float=function(e){return e=parseFloat(e),isNaN(e)&&(e=0),e},e.prototype.string=function(e){return null!==e&&void 0!==e||(e=""),e.toString()},e.prototype.isEmpty=function(e,t){return t=t||{},void 0===e||null===e||!1===e||""===e||!this.string(e).length||this.isObject(e)&&"Object"===e.constructor.name&&!Object.keys(e).length||!t.zero&&(0===e||"0"===e)},e.prototype.isInt=function(e,t){return!!this.string(e).match(/^\d+$/)&&(!t||Number.isInteger(e))},e.prototype.each=function(e,t){(this.isArray(e)||this.isObject(e))&&Object.keys(e).forEach(function(r){t(e[r],r)})},e.prototype.isObject=function(e){return null!==e&&"object"==typeof e&&!this.isArray(e)},e.prototype.isString=function(e){return"string"==typeof e||e instanceof String},e.prototype.isArray=function(e){return e instanceof Array},e.prototype.isNumeric=function(e){return this.string(e).length&&!!this.string(e).match(/^-?\d*\.?\d*$/)},e.prototype.isClass=function(e,t){if(this.isObject(e))if(this.isString(t)){if(e.constructor&&e.constructor.name===t)return!0}else if(e instanceof t)return!0;return!1},e.prototype.isBoolean=function(e){return!0===e||!1===e},e.prototype.value=function(e,t,r){return(this.isObject(e)||this.isArray(e))&&e.hasOwnProperty(t)?e[t]:r},e.prototype.interval=function(e,t,r){var o=setInterval(e,t);return r&&(this.intervals[r]=o),function(){window.clearInterval(o)}},e.prototype.clearInterval=function(e){var t=this.intervals[e];t&&window.clearInterval(t)},e.prototype.throttle=function(e,t){var r=!1;return function(){r||(e.apply(null,arguments),r=!0,setTimeout(function(){r=!1},t))}},e.prototype.debounce=function(e,t,r){var o;return function(){var n=this,i=arguments,s=function(){o=null,r||e.apply(n,i)},a=r&&!o;clearTimeout(o),o=setTimeout(s,t),a&&e.apply(n,i)}},e.prototype.length=function(e){return this.isObject(e)?Object.keys(e).length:this.isArray(e)?e.length:0},e.prototype.boolean=function(e){return"false"!==this.string(e).toLowerCase()&&!!e},e.prototype.stringify=function(e){return JSON.stringify(e)},e=o([n.Injectable()],e)}();t.FsUtil=i},"./services/fsvaildate.service.ts":function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("@angular/core"),s=r("./services/fsutil.service.ts"),a=function(){function e(e){this.fsUtil=e}return e.prototype.phone=function(e){return/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(e)||!String(e).length},e.prototype.email=function(e){return!!this.fsUtil.string(e).match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},e=o([i.Injectable(),n("design:paramtypes",[s.FsUtil])],e)}();t.FsValidate=a},"@angular/common":function(e,r){e.exports=t},"@angular/core":function(t,r){t.exports=e}})})},"./fs-form.module.ts":function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});var n=r("../node_modules/@firestitch/common/package/index.js"),i=r("./services/fsformcommon.service.ts"),s=r("./services/fsform.service.ts"),a=r("@angular/core"),c=r("@angular/common"),f=r("./fsform.directive.ts"),u=function(){function e(){}return t=e,e.forRoot=function(){return{ngModule:t,providers:[i.FsFormCommon,s.FsForm,f.FsFormDirective]}},e=t=o([a.NgModule({imports:[c.CommonModule,n.FsCommonModule],exports:[f.FsFormDirective,f.FsControlDirective,f.FsFormRequiredDirective,f.FsFormMinDirective,f.FsFormMaxDirective,f.FsFormMinLengthDirective,f.FsFormMaxLengthDirective,f.FsFormEmailDirective,f.FsFormPhoneDirective,f.FsFormCompareDirective,f.FsFormIntegerDirective,f.FsFormNumericDirective,f.FsFormPatternDirective,f.FsFormFunctionDirective],entryComponents:[],declarations:[f.FsFormDirective,f.FsControlDirective,f.FsFormRequiredDirective,f.FsFormMinDirective,f.FsFormMaxDirective,f.FsFormMinLengthDirective,f.FsFormMaxLengthDirective,f.FsFormEmailDirective,f.FsFormPhoneDirective,f.FsFormCompareDirective,f.FsFormIntegerDirective,f.FsFormNumericDirective,f.FsFormPatternDirective,f.FsFormFunctionDirective],providers:[i.FsFormCommon,s.FsForm,f.FsFormDirective]})],e);var t}();t.FsFormModule=u},"./fsform.directive.ts":function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=r("@angular/core"),a=r("@angular/forms"),c=r("./services/fsformcommon.service.ts"),f=r("./services/fsform.service.ts"),u=function(){function e(e,t,r,o,n){var i=this;this.fsFormRequiredMessage="This field is required.",this.fsFormEmailMessage="This is not a valid email address.",this.fsFormPhoneMessage="Invalid phone number.",this.fsFormNumericMessage="Value should be numeric.",this.fsFormIntegerMessage="Value should be an integer.",this.fsFormMinMessage="Should not be less than $(1).",this.fsFormMaxMessage="Should not be bigger than $(1).",this.fsFormMinlengthMessage="Should not be shorter than $(1) characters.",this.fsFormMaxlengthMessage="Should not be longer than $(1) characters.",this.fsFormCompareMessage="Inputs do not match.",this.fsFormPatternMessage="Value should match pattern $(1)",this.fsFormErrorsOrder=[],this.fsFormCommon=n,this.elRef=e,this.renderer=t,this.controlRef=r,this.viewContainer=o,this.statusChanges$=this.controlRef.control.statusChanges.subscribe(function(e){n.renderErrors(i,i.controlRef,i.renderer,i.elRef)}),this.controlRef.control.fsValidators=this.controlRef.control.fsValidators||[],this.controlRef.control.fsAsyncValidators=this.controlRef.control.fsAsyncValidators||[]}return e.prototype.ngOnDestroy=function(){this.statusChanges$.unsubscribe()},e.prototype.ngAfterViewChecked=function(){var e=this;null===this.elRef.nativeElement.offsetParent?(this.controlRef.control.clearValidators(),this.controlRef.control.clearAsyncValidators()):(this.controlRef.control.fsValidators.length&&!this.controlRef.control.validator||this.controlRef.control.fsAsyncValidators.length&&!this.controlRef.control.asyncValidator)&&(this.updateValidators(),setTimeout(function(){e.controlRef.control.setValue(e.controlRef.control.value)}))},e.prototype.updateValidators=function(){this.controlRef.control.setValidators(this.controlRef.control.fsValidators),this.controlRef.control.setAsyncValidators(this.controlRef.control.fsAsyncValidators)},e.prototype.addValidator=function(e){this.controlRef.control.fsValidators.push(e),this.updateValidators()},e.prototype.removeValidator=function(e){var t=this.fsFormCommon.searchIndex(this.controlRef.control.fsValidators,e);-1!==t&&(this.controlRef.control.fsValidators.splice(t,1),this.updateValidators())},e.prototype.addAsyncValidator=function(e){this.controlRef.control.fsAsyncValidators.push(e),this.controlRef.control.setAsyncValidators(this.controlRef.control.fsAsyncValidators)},n([s.Input(),i("design:type",Object)],e.prototype,"fsFormRequiredMessage",void 0),n([s.Input(),i("design:type",Object)],e.prototype,"fsFormEmailMessage",void 0),n([s.Input(),i("design:type",Object)],e.prototype,"fsFormPhoneMessage",void 0),n([s.Input(),i("design:type",Object)],e.prototype,"fsFormNumericMessage",void 0),n([s.Input(),i("design:type",Object)],e.prototype,"fsFormIntegerMessage",void 0),n([s.Input(),i("design:type",Object)],e.prototype,"fsFormMinMessage",void 0),n([s.Input(),i("design:type",Object)],e.prototype,"fsFormMaxMessage",void 0),n([s.Input(),i("design:type",Object)],e.prototype,"fsFormMinlengthMessage",void 0),n([s.Input(),i("design:type",Object)],e.prototype,"fsFormMaxlengthMessage",void 0),n([s.Input(),i("design:type",Object)],e.prototype,"fsFormCompareMessage",void 0),n([s.Input(),i("design:type",Object)],e.prototype,"fsFormPatternMessage",void 0),n([s.Input(),i("design:type",Object)],e.prototype,"fsFormErrorsOrder",void 0),e=n([s.Directive({selector:"[fsControl]"}),i("design:paramtypes",[s.ElementRef,s.Renderer2,a.NgControl,s.ViewContainerRef,c.FsFormCommon])],e)}();t.FsControlDirective=u;var l=function(e){function t(t,r,o,n,i){return e.call(this,t,r,o,n,i)||this}return o(t,e),t.prototype.ngOnChanges=function(){!1!==this.fsFormRequired?e.prototype.addValidator.call(this,a.Validators.required):e.prototype.removeValidator.call(this,a.Validators.required)},n([s.Input(),i("design:type",Boolean)],t.prototype,"fsFormRequired",void 0),t=n([s.Directive({selector:"[fsFormRequired]"}),i("design:paramtypes",[s.ElementRef,s.Renderer2,a.NgControl,s.ViewContainerRef,c.FsFormCommon])],t)}(u);t.FsFormRequiredDirective=l;var p=function(e){function t(t,r,o,n,i){return e.call(this,t,r,o,n,i)||this}return o(t,e),t.prototype.ngOnInit=function(){e.prototype.addValidator.call(this,a.Validators.max(this.fsFormMax))},n([s.Input(),i("design:type",Object)],t.prototype,"fsFormMax",void 0),t=n([s.Directive({selector:"[fsFormMax]"}),i("design:paramtypes",[s.ElementRef,s.Renderer2,a.NgControl,s.ViewContainerRef,c.FsFormCommon])],t)}(u);t.FsFormMaxDirective=p;var d=function(e){function t(t,r,o,n,i){return e.call(this,t,r,o,n,i)||this}return o(t,e),t.prototype.ngOnInit=function(){e.prototype.addValidator.call(this,a.Validators.min(this.fsFormMin))},n([s.Input(),i("design:type",Object)],t.prototype,"fsFormMin",void 0),t=n([s.Directive({selector:"[fsFormMin]"}),i("design:paramtypes",[s.ElementRef,s.Renderer2,a.NgControl,s.ViewContainerRef,c.FsFormCommon])],t)}(u);t.FsFormMinDirective=d;var m=function(e){function t(t,r,o,n,i){return e.call(this,t,r,o,n,i)||this}return o(t,e),t.prototype.ngOnInit=function(){e.prototype.addValidator.call(this,a.Validators.minLength(this.fsFormMinLength))},n([s.Input(),i("design:type",Object)],t.prototype,"fsFormMinLength",void 0),t=n([s.Directive({selector:"[fsFormMinLength]"}),i("design:paramtypes",[s.ElementRef,s.Renderer2,a.NgControl,s.ViewContainerRef,c.FsFormCommon])],t)}(u);t.FsFormMinLengthDirective=m;var h=function(e){function t(t,r,o,n,i){return e.call(this,t,r,o,n,i)||this}return o(t,e),t.prototype.ngOnInit=function(){e.prototype.addValidator.call(this,a.Validators.maxLength(this.fsFormMaxLength))},n([s.Input(),i("design:type",Object)],t.prototype,"fsFormMaxLength",void 0),t=n([s.Directive({selector:"[fsFormMaxLength]"}),i("design:paramtypes",[s.ElementRef,s.Renderer2,a.NgControl,s.ViewContainerRef,c.FsFormCommon])],t)}(u);t.FsFormMaxLengthDirective=h;var v=function(e){function t(t,r,o,n,i){return e.call(this,t,r,o,n,i)||this}return o(t,e),t.prototype.ngOnChanges=function(){var t=this,r=function(){return!t.elRef.nativeElement.value||t.fsFormCommon.email(t.elRef.nativeElement.value)?null:{email:!0}};this.fsFormEmail?e.prototype.addValidator.call(this,r):e.prototype.removeValidator.call(this,r)},n([s.Input(),i("design:type",Object)],t.prototype,"fsFormEmail",void 0),t=n([s.Directive({selector:"[fsFormEmail]"}),i("design:paramtypes",[s.ElementRef,s.Renderer2,a.NgControl,s.ViewContainerRef,c.FsFormCommon])],t)}(u);t.FsFormEmailDirective=v;var y=function(e){function t(t,r,o,n,i){return e.call(this,t,r,o,n,i)||this}return o(t,e),t.prototype.ngOnChanges=function(){var t=this,r=function(){return t.fsFormCommon.phone(t.elRef.nativeElement.value)?null:{phone:!0}};this.fsFormPhone?e.prototype.addValidator.call(this,r):e.prototype.removeValidator.call(this,r)},n([s.Input(),i("design:type",Object)],t.prototype,"fsFormPhone",void 0),t=n([s.Directive({selector:"[fsFormPhone]"}),i("design:paramtypes",[s.ElementRef,s.Renderer2,a.NgControl,s.ViewContainerRef,c.FsFormCommon])],t)}(u);t.FsFormPhoneDirective=y;var g=function(e){function t(t,r,o,n,i){return e.call(this,t,r,o,n,i)||this}return o(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.addValidator.call(this,function(){return t.fsFormCompare.value===t.elRef.nativeElement.value?null:{compare:!0}})},n([s.Input(),i("design:type",Object)],t.prototype,"fsFormCompare",void 0),t=n([s.Directive({selector:"[fsFormCompare]"}),i("design:paramtypes",[s.ElementRef,s.Renderer2,a.NgControl,s.ViewContainerRef,c.FsFormCommon])],t)}(u);t.FsFormCompareDirective=g;var F=function(e){function t(t,r,o,n,i){return e.call(this,t,r,o,n,i)||this}return o(t,e),t.prototype.ngOnInit=function(){var t=this;this.fsFormInteger&&e.prototype.addValidator.call(this,function(e){return t.fsFormCommon.isInt(e.value)?null:{integer:!0}})},n([s.Input(),i("design:type",Object)],t.prototype,"fsFormInteger",void 0),t=n([s.Directive({selector:"[fsFormInteger]"}),i("design:paramtypes",[s.ElementRef,s.Renderer2,a.NgControl,s.ViewContainerRef,c.FsFormCommon])],t)}(u);t.FsFormIntegerDirective=F;var b=function(e){function t(t,r,o,n,i){return e.call(this,t,r,o,n,i)||this}return o(t,e),t.prototype.ngOnInit=function(){var t=this;this.fsFormNumeric&&e.prototype.addValidator.call(this,function(e){return t.fsFormCommon.isNumeric(e.value)?null:{numeric:!0}})},n([s.Input(),i("design:type",Object)],t.prototype,"fsFormNumeric",void 0),t=n([s.Directive({selector:"[fsFormNumeric]"}),i("design:paramtypes",[s.ElementRef,s.Renderer2,a.NgControl,s.ViewContainerRef,c.FsFormCommon])],t)}(u);t.FsFormNumericDirective=b;var R=function(e){function t(t,r,o,n,i){return e.call(this,t,r,o,n,i)||this}return o(t,e),t.prototype.ngOnInit=function(){e.prototype.addValidator.call(this,a.Validators.pattern(this.fsFormPattern))},n([s.Input(),i("design:type",RegExp)],t.prototype,"fsFormPattern",void 0),t=n([s.Directive({selector:"[fsFormPattern]"}),i("design:paramtypes",[s.ElementRef,s.Renderer2,a.NgControl,s.ViewContainerRef,c.FsFormCommon])],t)}(u);t.FsFormPatternDirective=R;var E=function(e){function t(t,r,o,n,i){return e.call(this,t,r,o,n,i)||this}return o(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.addAsyncValidator.call(this,function(){var e=t.fsFormFunction(t.controlRef);if(e instanceof Promise)return new Promise(function(t,r){e.then(function(){t(null)}).catch(function(e){t({validationError:e})})})})},n([s.Input(),i("design:type",Object)],t.prototype,"fsFormFunction",void 0),t=n([s.Directive({selector:"[fsFormFunction]"}),i("design:paramtypes",[s.ElementRef,s.Renderer2,a.NgControl,s.ViewContainerRef,c.FsFormCommon])],t)}(u);t.FsFormFunctionDirective=E;var O=function(){function e(e,t,r){this.elRef=e,this.vc=t,this.fsForm=r}return e.prototype.ngOnInit=function(){var e=this;this.fsFormBinding&&this.fsFormBinding.ngSubmit.subscribe(function(t){if(e.fsForm.broadcast("submit",e.fsFormBinding),"INVALID"===e.fsFormBinding.form.status){e.fsForm.broadcast("invalid",e.fsFormBinding);for(var r in e.fsFormBinding.controls)e.fsFormBinding.controls[r]&&(e.fsFormBinding.controls[r].markAsDirty(),e.fsFormBinding.controls[r].updateValueAndValidity())}else e.fsForm.broadcast("valid",e.fsFormBinding)})},e.prototype.ngOnDestroy=function(){this.fsFormBinding.ngSubmit.unsubscribe()},n([s.Input(),i("design:type",a.NgForm)],e.prototype,"fsFormBinding",void 0),e=n([s.Directive({selector:"[fsForm]"}),i("design:paramtypes",[s.ElementRef,s.ViewContainerRef,f.FsForm])],e)}();t.FsFormDirective=O},"./index.ts":function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),o(r("./fs-form.module.ts")),o(r("./fsform.directive.ts")),o(r("./services/fsform.service.ts")),o(r("./services/fsformcommon.service.ts"))},"./services/fsform.service.ts":function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("@angular/core"),s=r("rxjs/Subject");r("rxjs/add/operator/filter"),r("rxjs/add/operator/map");var a=function(){function e(){this._eventBus=new s.Subject}return e.prototype.broadcast=function(e,t){this._eventBus.next({key:e,data:t})},e.prototype.on=function(e){return this._eventBus.asObservable().filter(function(t){return t.key===e}).map(function(e){return e.data})},e=o([i.Injectable(),n("design:paramtypes",[])],e)}();t.FsForm=a},"./services/fsformcommon.service.ts":function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("@angular/core"),s=r("../node_modules/@firestitch/common/package/index.js"),a=function(){function e(e,t,r){this.fsArray=e,this.fsUtil=t,this.fsValidate=r}return e.prototype.renderErrors=function(e,t,r,o){if(t.dirty){o.nativeElement.parentNode;if("FS-CHECKBOX-GROUP"===o.nativeElement.tagName){o.nativeElement.name=o.nativeElement.getAttribute("name");var n=r.createElement("div");r.addClass(n,"mat-input-subscript-wrapper"),r.addClass(n,"mat-form-field-subscript-wrapper");for(var i=!1,s=0;s<o.nativeElement.childNodes.length;s++)o.nativeElement.childNodes[s].className&&o.nativeElement.childNodes[s].className.match(/mat-input-subscript-wrapper/)&&(i=!0);i||r.appendChild(o.nativeElement,n)}var a=r.createElement("div");r.addClass(a,"ng-trigger"),r.addClass(a,"ng-trigger-transitionMessages");var c=this.getErrors(e,t);for(var f in c)if(c[f]){var u=r.createElement("mat-error");r.addClass(u,"mat-error"),r.setProperty(u,"id","mat-error-"+f);var l=void 0,p="fsForm"+this.capitalizeFirstLetter(f)+"Message";l=e[p]?r.createText(this.parseErrorMessage(e[p],c[f])):r.createText(c[f]),r.appendChild(u,l),r.appendChild(a,u)}var d="FS-CHECKBOX-GROUP"===o.nativeElement.tagName?o.nativeElement:o.nativeElement.parentNode.parentNode.parentNode,m=this.findClass(d,"mat-form-field-subscript-wrapper");m?(m.innerHTML="",m.appendChild(a)):(m=r.createElement("div"),r.addClass(m,"mat-form-field-subscript-wrapper"),r.appendChild(m,a),o.nativeElement.appendChild(m))}},e.prototype.getErrors=function(e,t){for(var r=[],o=0,n=e.fsFormErrorsOrder;o<n.length;o++){var i=n[o];r.push(i.replace(/fsForm/,"").toLowerCase())}if(r.length)for(var s=0,a=r;s<a.length;s++){var i=a[s];if(t.control.errors[i])return f={},f[i]=t.control.errors[i],f}for(var c in t.control.errors)return u={},u[c]=t.control.errors[c],u;return{};var f,u},e.prototype.parseErrorMessage=function(e,t){for(var r in t)e=e.replace(/\$\(\d\)/,t[r]);return e},e.prototype.findClass=function(e,t){function r(e,t,n){for(var i=0;i<e.childNodes.length&&!n;i++){var s=e.childNodes[i],a=void 0;a="string"==typeof s.className&&void 0!=s.className?s.className.split(" "):[];for(var c=0,f=a.length;c<f;c++)if(a[c]==t){n=!0,o=e.childNodes[i];break}if(n)break;r(e.childNodes[i],t,n)}}var o=null;return r(e,t,!1),o},e.prototype.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.prototype.searchIndex=function(e,t){return this.fsArray.indexOf(e,function(e){return JSON.stringify(e)===JSON.stringify(t)})},e.prototype.isInt=function(e){return!this.fsUtil.string(e).length||this.fsUtil.isInt(e)},e.prototype.isNumeric=function(e){return!this.fsUtil.string(e).length||this.fsUtil.isNumeric(e)},e.prototype.phone=function(e){return this.fsValidate.phone(e)},e.prototype.email=function(e){return this.fsValidate.email(e)},e=o([i.Injectable(),n("design:paramtypes",[s.FsArray,s.FsUtil,s.FsValidate])],e)}();t.FsFormCommon=a},"@angular/common":function(e,r){e.exports=t},"@angular/core":function(t,r){t.exports=e},"@angular/forms":function(e,t){e.exports=i},"rxjs/Subject":function(e,t){e.exports=r},"rxjs/add/operator/filter":function(e,t){e.exports=o},"rxjs/add/operator/map":function(e,t){e.exports=n}})});